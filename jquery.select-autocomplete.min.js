// jQuery selectAutocomplete plugin
// https://github.com/art-mironoff/jQuery-selectAutocomplete
"function"!==typeof Object.create&&(Object.create=function(b){function e(){}e.prototype=b;return new e});
(function(b){var e={b:null,m:null,j:null,c:null,l:null,a:{D:37,v:38,F:39,h:40,s:27,o:13,u:9},M:function(a,c){this.f=b.extend({},b.A.C.J,a);this.b=b(c);var d=b("<div/>",{G:this.f.V});this.m=this.b.da(d).parent();d=b("<div/>",{G:this.f.K,style:"top: "+(this.b.outerHeight(!0)-1)+"px"});this.j=this.m.append(d).children("div");this.c=this.j.append("<ul/>").children("ul");this.f.U&&(d=b("<button/>",{text:this.f.H}),this.l=this.j.append(d).children("button"));this.i("");this.b.B({"keydown.selectAutocomplete":this.P.bind(this),
"keyup.selectAutocomplete":this.R.bind(this)});this.c.B("click","li",this.S.bind(this));this.l.B("click",this.O.bind(this))},i:function(a){for(var b=this.f.data,d="",f=0,e=b.length;f<e;f++)(new RegExp(a.toLowerCase())).test(b[f].name.toLowerCase())&&(d+="<li data-id='"+b[f].id+"'>"+b[f].name+"</li>");this.c.L(d)},P:function(a){var c;if((a.which==this.a.h||a.which==this.a.v)&&this.c.L())c=b("li.selected",this.c),c.length?(a=a.which==this.a.h?c.next("li"):c.ba("li"),a.length?this.b.g(a.w("selected").text()):
this.b.g(""),c.T("selected")):(a=a.which==this.a.h?b("li",this.c).first():b("li",this.c).Y(),this.b.g(a.w("selected").text()));else if(a.which==this.a.s)this.b.g("");else if(a.which==this.a.o||a.which==this.a.u)c=b("li.selected",this.c),c.length&&(this.i(c.text()),c.data("id"),c.text())},R:function(a){~b.X(a.which,[this.a.D,this.a.v,this.a.F,this.a.h,this.a.o,this.a.s,this.a.u])||(a=this.b.g(),a.length<this.f.N?this.i(""):this.i(a))},S:function(a){b("li.selected",this.c).T("selected");a=b(a.target).w("selected");
a.data("id");a=a.text();this.b.g(a)},O:function(){this.b.g("")}};b.A.C=function(a){return this.W(function(){"destroy"===a?(b("div",b(this).parent()).remove(),b(this).ca().Z("keydown.selectAutocomplete keyup.selectAutocomplete")):Object.create(e).M(a,this)})};b.A.C.J={H:"Remove",data:[],K:{I:"dropdown"},N:3,aa:function(){},$:function(){},U:!1,V:{I:"select-autocomplete"}}})(jQuery);